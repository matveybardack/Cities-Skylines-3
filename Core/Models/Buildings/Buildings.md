# Документация по моделям зданий (Building Models)

Этот документ описывает различные типы зданий, которые существуют в симуляции. Все они наследуются от базового класса `Building`.

## Глава 1: CommercialBuilding.cs

`CommercialBuilding` представляет собой коммерческое здание. В текущей реализации это заглушка, не имеющая дополнительной логики.

### Свойства системы ЖКХ

- **`HasElectricity`**: `bool` - Подключено ли здание к электрической сети
- **`HasWater`**: `bool` - Подключено ли здание к водоснабжению  
- **`HasGas`**: `bool` - Подключено ли здание к газовой сети
- **`HasSewage`**: `bool` - Подключено ли здание к канализации
- **`IsOperational`**: `bool` (только для чтения) - Работоспособно ли здание (все коммуникации подключены)

**Примечание:** При отключении любой из коммуникаций здание перестаёт функционировать.

## Глава 2: ConstructionCompany.cs

`ConstructionCompany` представляет собой офис строительной компании, который управляет строительными проектами в городе.

### Основная логика

- Компания отслеживает активные строительные проекты.
- Для начала нового проекта требуется `IConstructable` (проект здания) и `ConstructionYard` (склад материалов).
- Перед началом строительства компания проверяет наличие всех необходимых материалов на указанном складе и списывает их.
- Метод `UpdateProjects()` должен вызываться на каждом тике симуляции для продвижения строительства. Прогресс строительства увеличивается до тех пор, пока проект не будет завершен, после чего он удаляется из списка активных.

### Методы

- **`StartNewProject(IConstructable buildingToConstruct, ConstructionYard sourceYard)`**: `bool`
  - Запускает новый строительный проект. Возвращает `true`, если проект успешно запущен.
- **`UpdateProjects()`**: `void`
  - Обновляет состояние всех активных строительных проектов.

## Глава 3: ConstructionYard.cs

`ConstructionYard` — это склад строительных материалов. Он хранит ресурсы, необходимые для строительства зданий.

### Свойства

- **`StoredMaterials`**: `Dictionary<ConstructionMaterial, int>`
  - Словарь, в котором хранится количество каждого типа строительного материала.

### Методы

- **`AddMaterial(ConstructionMaterial material, int amount)`**: `void`
  - Добавляет указанное количество материала на склад.
- **`TryRemoveMaterial(ConstructionMaterial material, int amount, out int balance)`**: `bool`
  - Пытается изъять указанное количество материала со склада. Возвращает `true` в случае успеха и `false`, если материалов недостаточно. `balance` содержит остаток материала на складе.

## Глава 4: ResidentialBuilding.cs

`ResidentialBuilding` — это жилое здание, в котором могут проживать горожане (`Citizen`).

### Свойства

- **`Type`**: `ResidentialType` - Тип жилого здания (например, `Apartment`, `Dormitory`).
- **`Capacity`**: `int` - Максимальное количество жителей.
- **`CurrentResidents`**: `List<Citizen>` - Список текущих жителей.
- **`ApartmentCount`**: `int` - Количество квартир.
- **`RentPrice`**: `decimal` - Стоимость аренды.
- **`HasVacancy`**: `bool` (только для чтения) - Показывает, есть ли свободные места.

- **`HasElectricity`**: `bool` - Подключено ли здание к электрической сети
- **`HasWater`**: `bool` - Подключено ли здание к водоснабжению  
- **`HasGas`**: `bool` - Подключено ли здание к газовой сети
- **`HasSewage`**: `bool` - Подключено ли здание к канализации
- **`IsOperational`**: `bool` (только для чтения) - Работоспособно ли здание (все коммуникации подключены)

**Примечание:** При отключении любой из коммуникаций здание перестаёт функционировать.

### Методы

- **`TryAddResident(Citizen citizen)`**: `bool`
  - Пытается заселить жителя в здание. Возвращает `true` в случае успеха.

## Глава 5: ServiceBuilding.cs

`ServiceBuilding` — это здание, предоставляющее горожанам различные услуги (например, образование или здравоохранение).

### Свойства

- **`Type`**: `ServiceBuildingType` - Тип сервисного здания (`School`, `Hospital` и т.д.).
- **`Capacity`**: `int` - Максимальное количество клиентов, которое здание может обслужить одновременно.
- **`Clients`**: `List<Citizen>` - Список текущих клиентов.
- **`EmployeesCount`**: `int` - Количество сотрудников.
- **`ServiceCost`**: `decimal` - Стоимость услуги.
- **`CanAcceptClient`**: `bool` (только для чтения) - Показывает, может ли здание принять нового клиента.

- **`HasElectricity`**: `bool` - Подключено ли здание к электрической сети
- **`HasWater`**: `bool` - Подключено ли здание к водоснабжению  
- **`HasGas`**: `bool` - Подключено ли здание к газовой сети
- **`HasSewage`**: `bool` - Подключено ли здание к канализации
- **`IsOperational`**: `bool` (только для чтения) - Работоспособно ли здание (все коммуникации подключены)

**Примечание:** При отключении любой из коммуникаций здание перестаёт функционировать.

### Методы

- **`TryAddClient(Citizen citizen)`**: `bool`
  - Пытается добавить нового клиента для обслуживания.
- **`ProvideService()`**: `void`
  - Предоставляет услугу всем текущим клиентам. В зависимости от типа здания это может быть повышение уровня образования или улучшение здоровья. После обслуживания клиенты удаляются из списка.

## Глава 6: WoodProcessingFactory.cs

`WoodProcessingFactory` — это деревообрабатывающая фабрика, производящая различные продукты из древесины.

### Свойства производства

- **`Name`**: `string` - Название фабрики
- **`WoodStorage`**: `int` - Количество сырой древесины
- **`ProcessedWoodStorage`**: `int` - Количество обработанной древесины
- **`FurnitureStorage`**: `int` - Количество мебели
- **`PaperStorage`**: `int` - Количество бумаги
- **`WoodProcessingRate`**: `int` - Скорость обработки древесины
- **`FurnitureProductionRate`**: `int` - Скорость производства мебели
- **`PaperProductionRate`**: `int` - Скорость производства бумаги
- **`MaxWoodStorage`**: `int` - Максимум сырой древесины
- **`MaxProcessedWoodStorage`**: `int` - Максимум обработанной древесины
- **`MaxFurnitureStorage`**: `int` - Максимум мебели
- **`MaxPaperStorage`**: `int` - Максимум бумаги
- **`IsActive`**: `bool` - Активна ли фабрика
- **`OperationalCost`**: `decimal` - Операционные расходы

### Свойства системы ЖКХ

- **`HasElectricity`**: `bool` - Подключено ли здание к электрической сети
- **`HasWater`**: `bool` - Подключено ли здание к водоснабжению
- **`HasGas`**: `bool` - Подключено ли здание к газовой сети
- **`HasSewage`**: `bool` - Подключено ли здание к канализации
- **`IsOperational`**: `bool` (только для чтения) - Работоспособно ли здание (все коммуникации подключены)

### Методы

- **`AddWood(int amount)`**: `bool` - Добавляет сырую древесину на фабрику
- **`ProcessWood()`**: `void` - Обрабатывает древесину
- **`ProduceFurniture()`**: `void` - Производит мебель
- **`ProducePaper()`**: `void` - Производит бумагу
- **`CollectFurniture()`**: `int` - Собирает произведенную мебель
- **`CollectPaper()`**: `int` - Собирает произведенную бумагу
- **`CollectProcessedWood()`**: `int` - Собирает обработанную древесину
- **`GetStatus()`**: `ProductionStatus` - Получает статус производства

**Примечание:** Фабрика требует подключения ко всем коммунальным услугам для работы.

## Глава 7: ExtractionFacility.cs

`ExtractionFacility` — это добывающее предприятие для природных ресурсов.

### Свойства добычи

- **`Name`**: `string` - Название предприятия
- **`ResourceType`**: `ResourceType` - Тип добываемого ресурса
- **`ExtractionRate`**: `int` - Скорость добычи ресурсов
- **`WorkersCount`**: `int` - Текущее количество рабочих
- **`MaxWorkers`**: `int` - Максимальное количество рабочих
- **`StorageCapacity`**: `int` - Вместимость хранилища
- **`CurrentStorage`**: `int` - Текущее количество ресурсов
- **`IsActive`**: `bool` - Активно ли предприятие
- **`MaintenanceCost`**: `decimal` - Стоимость обслуживания

### Свойства системы ЖКХ

- **`HasElectricity`**: `bool` - Подключено ли здание к электрической сети
- **`HasWater`**: `bool` - Подключено ли здание к водоснабжению
- **`HasGas`**: `bool` - Подключено ли здание к газовой сети
- **`HasSewage`**: `bool` - Подключено ли здание к канализации
- **`IsOperational`**: `bool` (только для чтения) - Работоспособно ли здание (все коммуникации подключены)

### Методы

- **`AddWorker(Worker worker)`**: `bool` - Добавляет рабочего на предприятие
- **`RemoveWorker(Worker worker)`**: `bool` - Удаляет рабочего с предприятия
- **`ExtractResources()`**: `int` - Выполняет добычу ресурсов
- **`CollectResources()`**: `int` - Собирает добытые ресурсы
- **`CanExtract()`**: `bool` - Проверяет возможность добычи

**Примечание:** Добывающее предприятие требует подключения к коммунальным услугам для работы оборудования.