# Документация по моделям зданий (Building Models)

Этот документ описывает различные типы зданий, которые существуют в симуляции. Все они наследуются от базового класса `Building`.

## Глава 1: CommercialBuilding.cs

`CommercialBuilding` представляет собой коммерческое здание. В текущей реализации это заглушка, не имеющая дополнительной логики.

## Глава 2: ConstructionCompany.cs

`ConstructionCompany` представляет собой офис строительной компании, который управляет строительными проектами в городе.

### Основная логика

- Компания отслеживает активные строительные проекты.
- Для начала нового проекта требуется `IConstructable` (проект здания) и `ConstructionYard` (склад материалов).
- Перед началом строительства компания проверяет наличие всех необходимых материалов на указанном складе и списывает их.
- Метод `UpdateProjects()` должен вызываться на каждом тике симуляции для продвижения строительства. Прогресс строительства увеличивается до тех пор, пока проект не будет завершен, после чего он удаляется из списка активных.

### Методы

- **`StartNewProject(IConstructable buildingToConstruct, ConstructionYard sourceYard)`**: `bool`
  - Запускает новый строительный проект. Возвращает `true`, если проект успешно запущен.
- **`UpdateProjects()`**: `void`
  - Обновляет состояние всех активных строительных проектов.

## Глава 3: ConstructionYard.cs

`ConstructionYard` — это склад строительных материалов. Он хранит ресурсы, необходимые для строительства зданий.

### Свойства

- **`StoredMaterials`**: `Dictionary<ConstructionMaterial, int>`
  - Словарь, в котором хранится количество каждого типа строительного материала.

### Методы

- **`AddMaterial(ConstructionMaterial material, int amount)`**: `void`
  - Добавляет указанное количество материала на склад.
- **`TryRemoveMaterial(ConstructionMaterial material, int amount, out int balance)`**: `bool`
  - Пытается изъять указанное количество материала со склада. Возвращает `true` в случае успеха и `false`, если материалов недостаточно. `balance` содержит остаток материала на складе.

## Глава 4: ResidentialBuilding.cs

`ResidentialBuilding` — это жилое здание, в котором могут проживать горожане (`Citizen`).

### Свойства

- **`Type`**: `ResidentialType` - Тип жилого здания (например, `Apartment`, `Dormitory`).
- **`Capacity`**: `int` - Максимальное количество жителей.
- **`CurrentResidents`**: `List<Citizen>` - Список текущих жителей.
- **`ApartmentCount`**: `int` - Количество квартир.
- **`RentPrice`**: `decimal` - Стоимость аренды.
- **`HasVacancy`**: `bool` (только для чтения) - Показывает, есть ли свободные места.

### Методы

- **`TryAddResident(Citizen citizen)`**: `bool`
  - Пытается заселить жителя в здание. Возвращает `true` в случае успеха.

## Глава 5: ServiceBuilding.cs

`ServiceBuilding` — это здание, предоставляющее горожанам различные услуги (например, образование или здравоохранение).

### Свойства

- **`Type`**: `ServiceBuildingType` - Тип сервисного здания (`School`, `Hospital` и т.д.).
- **`Capacity`**: `int` - Максимальное количество клиентов, которое здание может обслужить одновременно.
- **`Clients`**: `List<Citizen>` - Список текущих клиентов.
- **`EmployeesCount`**: `int` - Количество сотрудников.
- **`ServiceCost`**: `decimal` - Стоимость услуги.
- **`CanAcceptClient`**: `bool` (только для чтения) - Показывает, может ли здание принять нового клиента.

### Методы

- **`TryAddClient(Citizen citizen)`**: `bool`
  - Пытается добавить нового клиента для обслуживания.
- **`ProvideService()`**: `void`
  - Предоставляет услугу всем текущим клиентам. В зависимости от типа здания это может быть повышение уровня образования или улучшение здоровья. После обслуживания клиенты удаляются из списка.